---
layout: post
title: "P2P项目 三 手机/邮箱绑定"
date: 2017-1-3
description: "SpringBoot 手机/邮箱 绑定"
tag: p2p项目 手机 邮箱 绑定
---

### 手机绑定
1,页面效果
通过认证显示已经绑定,否则立即绑定
2,手机认证通过
userinfo -> bitstate
userinfo -> phoneNumber 设置值
3发送验证码
  1手机号校验
  2,按钮禁用
  3,执行ajax请求,发送验证码
  发送失败:提示,按钮效果恢复
  发送成功:
  4,倒计时
  5,倒计时完了之后,取消按钮禁用效果
4,后台发送验证码的逻辑
  1.判断
    1.判断手机号码
    2,判断用户是否已经完成手机绑定
    3,判断两次发送验证码的间隔时间,获取上一次的发送记录
  2,执行发送
    1,生成验证码
    2,发送短信
    3,往session中保存发哦少年宫验证码的记录:手机号;验证码;发送时间;ip
5,绑定手机
### 邮箱绑定
